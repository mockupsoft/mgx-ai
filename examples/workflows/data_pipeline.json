{
  "name": "Data Pipeline Workflow",
  "description": "A workflow for data extraction, transformation, and loading (ETL)",
  "config": {
    "pipeline_type": "etl",
    "error_handling": "continue_on_error"
  },
  "timeout_seconds": 7200,
  "max_retries": 5,
  "variables": [
    {
      "name": "source_url",
      "data_type": "string",
      "is_required": true,
      "description": "URL of the data source"
    },
    {
      "name": "destination_table",
      "data_type": "string",
      "is_required": true,
      "description": "Target table name in the data warehouse"
    },
    {
      "name": "batch_size",
      "data_type": "string",
      "is_required": false,
      "default_value": "1000",
      "description": "Batch size for processing"
    },
    {
      "name": "transformations",
      "data_type": "json",
      "is_required": false,
      "description": "Data transformation rules"
    }
  ],
  "steps": [
    {
      "name": "validate_source",
      "step_type": "task",
      "step_order": 1,
      "config": {
        "description": "Validate data source availability and connectivity",
        "timeout": 600
      },
      "depends_on_steps": [],
      "meta_data": {
        "category": "validation"
      }
    },
    {
      "name": "extract_data",
      "step_type": "task",
      "step_order": 2,
      "config": {
        "description": "Extract data from source",
        "timeout": 3600,
        "streaming": true
      },
      "depends_on_steps": ["validate_source"],
      "meta_data": {
        "category": "extraction"
      }
    },
    {
      "name": "transform_data",
      "step_type": "task",
      "step_order": 3,
      "config": {
        "description": "Apply transformations to extracted data",
        "timeout": 3600
      },
      "depends_on_steps": ["extract_data"],
      "meta_data": {
        "category": "transformation"
      }
    },
    {
      "name": "validate_transformation",
      "step_type": "condition",
      "step_order": 4,
      "config": {
        "description": "Validate transformed data quality"
      },
      "depends_on_steps": ["transform_data"],
      "meta_data": {
        "category": "quality_check"
      }
    },
    {
      "name": "load_data",
      "step_type": "task",
      "step_order": 5,
      "config": {
        "description": "Load transformed data into destination",
        "timeout": 3600
      },
      "depends_on_steps": ["validate_transformation"],
      "meta_data": {
        "category": "loading"
      }
    },
    {
      "name": "post_load_validation",
      "step_type": "task",
      "step_order": 6,
      "config": {
        "description": "Validate loaded data integrity"
      },
      "depends_on_steps": ["load_data"],
      "meta_data": {
        "category": "validation"
      }
    },
    {
      "name": "cleanup",
      "step_type": "task",
      "step_order": 7,
      "config": {
        "description": "Clean up temporary resources"
      },
      "depends_on_steps": ["post_load_validation"],
      "meta_data": {
        "category": "cleanup"
      }
    }
  ]
}
